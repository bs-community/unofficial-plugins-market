!function(t){function e(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,a){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([,function(t,e,r){"use strict";function a(t,e,r){if("preview"!==r){var a=$("select#plugin-"+t+"-vers").val();return n(t,e,a)}swal({title:trans("market.preview.title"),text:trans("market.preview.text"),type:"warning",showCancelButton:!0,confirmButtonText:trans("market.preview.confirmButton"),cancelButtonText:trans("market.preview.cancelButton")}).then(function(){return n(t,e)})}function n(t,e,r){$("input#plugin-"+t).attr({disabled:!0}),$("input#plugin-"+t).val(trans("market.downloading")),toastr.info(trans("market.readyToDownload",{"plugin-name":e})),$.post("/admin/plugins-market/download",{name:t,version:r},function(r){if(void 0===r.code)toastr.error(trans("market.error.unknown"));else switch(r.code){case-1:toastr.error(trans("market.failedDownload",{message:trans("market.error.requestPermission")}));break;case 0:toastr.success(trans("market.completeDownload",{"plugin-name":e}));break;case 1:toastr.error(trans("market.failedDownload",{message:trans("market.error.writePermission")}));break;case 2:toastr.error(trans("market.failedDownload",{message:trans("market.error.connection")}));break;case 3:toastr.error(trans("market.failedDownload",{message:trans("market.error.download")}));break;case 4:toastr.error(trans("market.failedDownload",{message:trans("market.error.unzip")}));break;default:toastr.error(trans("market.error.unknown"))}$("input#plugin-"+t).attr({disabled:!1}),$("input#plugin-"+t).val(trans("market.download"))})}var o=void 0;$(document).ready(function(){$(".box-body").css("min-height",$(".content-wrapper").height()-$(".content-header").outerHeight()-120),o=$("#plugin-table").DataTable({language:trans("vendor.datatables"),scrollX:!0,autoWidth:!1,processing:!0,ordering:!1,serverSide:!1,ajax:{url:"/admin/plugins-market/data",dataSrc:""},columnDefs:[{targets:0,title:trans("market.market.title"),data:"title"},{targets:1,title:trans("market.market.description"),data:"description",width:"40%"},{targets:2,title:trans("market.market.author"),data:"author",width:"10%"},{targets:3,title:trans("market.market.version"),data:"version",width:"9%",render:function(t,e,r,a){for(var n="",o=t.length-1;o>=0;o--)n+="<option>"+t[o]+"</option>";return'<select id="plugin-'+r.name+'-vers" class="form-control">'+n+"</select>"}},{targets:4,title:trans("market.market.size"),data:"size",width:"8%"},{targets:5,title:trans("market.market.operations"),data:"brief",width:"20%",render:function(t,e,r,a){var n="btn-primary",o="";switch(r.versionStatus){case"preview":n="btn-warning",o=trans("market.market.versionPre");break;case"new":n="btn-success",o=trans("market.market.versionNew")}return'<input type="button" id="plugin-'+r.name+'" class="btn '+n+' btn-sm" title="'+o+'" onclick="readyToDownload(\''+r.name+"','"+r.title+"','"+r.versionStatus+'\');" value="'+trans("market.market.download")+'"><a class="btn btn-default btn-sm" href="'+t+'" target="_blank" title="'+trans("market.market.briefHint")+'">'+trans("market.market.viewBrief")+"</a>"}}]})}),window.readyToDownload=a}]);